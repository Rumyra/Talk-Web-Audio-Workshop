<!DOCTYPE html>
<html lang="en">
<head>
  <!--char set (lang above)-->
  <meta charset="utf-8">

  <!--device/browser shizzle-->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!--meta content-->
  <link rel="shortcut icon" href="favicon.ico" />
  
  <meta name="author" content="Ruth John (@rumyra)">
  <meta name="dcterms.rightsHolder" content="Ruth John for Rumyra Ltd, United Kingdom, 2015">
  <title>The Web Audio API</title>

  <link rel="stylesheet" href="reveal/css/reveal.css">
  <link rel="stylesheet" href="reveal/css/theme/rumyra.css" id="theme">
  <link rel="stylesheet" href="reveal/lib/css/eighties.css">
  <link rel="stylesheet" href="assets/audio.css">
  <script src="reveal/js/reveal.js"></script>
  <script src="scripts/d3.min.js"></script>

  <!-- <script src="https://js.pusher.com/3.0/pusher.min.js"></script> -->
  <!-- <link rel="stylesheet" href="visuals.css"> -->

  <!--<style type="text/css">
    #screen {
      position: absolute; top:0px; left:0px;
      margin: 0px; padding: 0px;
      width:100vw; height:100vh;
      background-color: black;
      display: none;
    }
    svg {width: 100vw; height: 100vh; padding:0px; margin:0px;}
  </style>-->
  
</head>

<!--

$green: #acc486
$orange: #ea8d88
$purple: #8c4c6f

$brown: #463c34
$cream: #eee5c4

$grey: #bebebe
-->

<body class="talk">
  <div class="reveal">
    <div class="slides">
      <section>

        <section data-background-color="#8c4c6f">
          <h1>Web Audio</h1>
          <h2>& a little MIDI</h2>
          <p>Ruth John&nbsp;&nbsp;|&nbsp;&nbsp;@Rumyra</p>
          <aside class="notes">
          </aside>
        </section>

        <!--COOL DEMO HERE-->
        <!-- <section data-background-color="#8c4c6f" data-state="vis_speakers">
          <audio src="media/warren.m4a" data-autoplay></audio>
          <aside class="notes">
            <p>DANCE!</p>
          </aside>
        </section> -->

        <section data-background-color="#8c4c6f" data-background-image="media/talk2med.jpg">
          <h1>Ruth John&nbsp;&nbsp;|&nbsp;&nbsp;@Rumyra</h1>
          <p>Hello</p>
          <aside class="notes">
            <p>Hey! Web API Day!</p>
            <p>Speak slowly</p>
            <p>My name is Ruth, I'm here to talk to u about audio & midi, on the web.</p>
            <p>So this is the part of the talk where I introduce myself, and tell you what my job title is... </p>
          </aside>
        </section>

        <section data-background-color="#8c4c6f" data-background-image="media/meProject.jpg">
          <h1>Ruth John&nbsp;&nbsp;|&nbsp;&nbsp;@Rumyra</h1>
          <p>Street VJ</p>
          <aside class="notes">
            <p>This is me projecting visuals around my city. With a laptop, a projector, a midi controller and hand coded browser software.</p>
            <p>AKA Legacy FED</p>
            <p>How long I've been doing this for...</p>
          </aside>
        </section>

        <section data-background-color="#8c4c6f" data-background-image="media/meLights.jpg">
          <h1>Ruth John&nbsp;&nbsp;|&nbsp;&nbsp;@Rumyra</h1>
          <p>~ 15 Years</p>
          <aside class="notes">
            <p>How long is a string of audio reactive LEDs</p>
            <p>This is me at a hardware hackday I run with my friend Gordon, making a string of lights flash in time to sound</p>
            <p>And of course the clients I work with...</p>
          </aside>
        </section>

        <section data-background-color="#8c4c6f" data-background-image="media/paddle.jpg">
          <h1>Ruth John&nbsp;&nbsp;|&nbsp;&nbsp;@Rumyra</h1>
          <p>Bobby the dog</p>
          <aside class="notes">
            <p>And this is me paddle boarding in Australia with Bobby the dog.</p>
            <p>Yup totally qualified to talk about the whole of the web audio API...</p>
            <p>Problem And really the WHOLE - I mean it's a huge spec. Just to put it into perpective:</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-video="media/specScroll.mp4">
          <aside class="notes">
            <!--video of web audio spec-->
            <p>It's a spec unto itself really - by the way the length of that video before I sped it up was 2 1/2 mins!</p>
            <p>But don't worry we have mdn docs is probably better for learning...</p>
          </aside>
        </section>


        <section data-background-color="#eee5c4" data-background-video="media/mdnDocs.mp4">
          <aside class="notes">
            <p>MDN docs of methods, functions, properties, events. I mean what even is a cent. Top tip - it's not a denomination of a currency.</p>
            <p>Was this article helpful? To be honest it actually is. These docs are the most helpful. Go here.</p>
            <p>And because it's so big you can do so much cool stuff with it...</p>
          </aside>
        </section>
        <!-- it's amazing u can do cool stuff with it-->

        <section data-background-color="#eee5c4" data-background-video="media/block.mp4">
          <aside class="notes">
            <p>This is blokdust. Built by Luke Twyman, Luke Phillips and Edward Silverton in Brighton.</p>
            <p>It's well mental. A beautiful interface for a synth - you just pull things in, sound inputs, add effects, chain them together and output them. You can add controls.</p>
            <p>Note this interface - it'll be important later.</p>
            <p>And it's not just synths & appeGiators - there's art too</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-video="media/chord.mp4">
          <aside class="notes">
            <p>This is Jake Alburgh's appegiator - it's on codepen. It's such a simple idea, but it's illustrates soemthing so perfectly. Change patterns, rythum, tone. I'm not going to go into it - but you should really check it out.</p>
            <p>It also illustrates the amazing things you can do with the audio api</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/piano.jpg">
          <aside class="notes">
            <p>And there's not just websites or codepens</p>
            <p>This is piano - an art installation built with three.js and p5.js by Patrik Hubner - it harnesses web audio and web midi.</p>
            <p>An audio visualisation is displayed in a window and MIDI controller used to by passers by to interact with it.</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/roland808.png">
          <aside class="notes">
            <p>There's this guy - Gregor Adams - he built an roland 808 to celebrate 808 followers on codepen, that was cool. And it's not just him, there's a growing trend I mean there are all these</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/novation.png">
          <aside class="notes">
            <p>synth</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/viktor.png">
          <aside class="notes">
            <p>the</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background="media/html909.png">
          <aside class="notes">
            <p>sis</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background="media/mod.png">
          <aside class="notes">
            <p>sers</p>
            <p>There are all these fabulous things being built with the web audio api</p>
            <p>But for now, back to audio... web audio. I mean look at this where do you even begin, it's big, it's complicated, you have to have a background in audio to begin to understand it.</p>
            <p>And people are reluctant to use audio on the web. When ever you mention audio on websites you imagine this...</p>
          </aside>
        </section>

        <!-- people are relunctant to use it on the web -->
        <section data-background-color="#eee5c4" data-background-video="media/cameronsworld.mp4">
          <aside class="notes">
            <p>A website playing background music - the modern version of which is something like this:</p>
            <p>Real website - camerons worls</p>
            <p>Then there's the modern day equivilant.</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-video="media/annoy.mp4">
          <aside class="notes">
            <p>An annoying advert that autoplays - yes I know.</p>
            <p>http://afternooncareer.com/lp/int/uk/dn24/clx.htm</p>
            <p>I mean this is intrusive and pretty horrible, ur probably trying to read an article</p>
            <p>But actually there's some really great examples of audio just being used on plain ol' websites.</p>
          </aside>
        </section>

        <!-- I want to readdress this -->
        <section data-background-color="#eee5c4" data-background-image="media/abletonSite.jpg">
          <!-- ableton learn music -->
          <p>learningmusic.ableton.com</p>
          <aside class="notes">
            <p>Ableton just launched this website giving users an overview to learn music.</p>
            <p>Sure the subject matter is audio, but without the extensive functionality of the audio api this wouldn't be possible.</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-video="media/futureLibrary.mp4">
          <!-- future library -->
          <p>futurelibrary.no</p>
          <aside class="notes">
            <p>This is my favourite, this is a project from Norway called future library, where they're growing a forest and getting authors to write books for every tree and every year.</p>
            <p>Sounds are playing throughout, but beautiful & well thought out even mute fades it out</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-video="media/86years.mp4">
          <!-- portfolio -->
          <p>86andahalfyears.com</p>
          <aside class="notes">
            <p>This is 86 and half years. A story website about the musings of an 86 1/2 yesr old man. But presented so excellently.</p>
            <p>None of the sounds on these websites are intrusive, they enhance the experience, these aren't websites you flick to, or just read, you discover them. There is a place for audio here.</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/mute.jpg" class="lists">
          <div class="list-left">
            <h2>Mute 👍</h2>
          </div>
          <div class="list-right">
            <h2>No mute 👎</h2>
          </div>
          
          <!-- mute controls -->
          <aside class="notes">
            <p>One bear in mind</p>
            <p>Forest has a mute control</p>
            <p>Years doesn't - although at the start it does say, best experience with headphones.</p>
            <p>Both very thoughtful features. We'll get back to mute in a minute because</p>
            <p>There's not enough time to go through the whole api</p>
            <p>Take through the practical parts - help discover</p>
            <p>So as an introduction, let's have a quick overview of digital audio, as I think that will help.</p>
          </aside>
        </section>

        <section data-background-color="#463c34">
          <h1>The Workshop</h1>
          <div class="list-left">
            <h2>It is 👍</h2>
            <p class="fragment fade-in">Information</p>
            <p class="fragment fade-in">Exercises</p>
            <p class="fragment fade-in">Questions</p>
            <p class="fragment fade-in">Inclusive</p>
            <p class="fragment fade-in">Super Fun OMG</p>
          </div>
          
          <aside class="notes">
            
          </aside>
        </section>

        <section data-background-color="#463c34">
          <h1>The Workshop</h1>
          <div class="list-right">
            <h2 class="fragment fade-in">It is not 👎</h2>
            <p class="fragment fade-in">A competition</p>
            <p class="fragment fade-in">Audio Engineering</p>
            <p class="fragment fade-in">JS Lesson</p>
          </div>
          <aside class="notes">
            
          </aside>
        </section>

        <!-- create new audio api - recording studio -->
        <section data-background-color="#463c34">
          <h1>Audio Context</h1>
          <pre><code class="js">const context = new window.AudioContext</code></pre>
          <aside class="notes">
            <p>So let's begin - the first thing we need to do...</p>
            <p>Here I'm creating an instance of the audio context to be used within my application - I only need to do this once, this is the audio api. It gives me all the methods I'm going to need in endless supply.</p>
            <p>The context is sort of the area where everything happens.</p>
            <p>Think of it like a recroding studio. Instruments, mixing desks, effects.</p>
            <p>prefix still needed in safari everyone</p>
          </aside>
        </section>

        <section data-background-color="#463c34">
        <h1>Loading Sounds</h1>
        <pre><code data-trim class="js">// DOM (audio, video element)
const mediaSource = context.createMediaElementSource(element);

// Streams (data, camera, mic)
const streamSource = context.createMediaStreamSource(stream);

// Buffer (file, data)
fetch('soundFile.mp4')
  // read into memory as array buffer
  .then(response => response.arrayBuffer())
  // turn into raw audio data
  .then(arrayBuffer => context.decodeAudioData(arrayBuffer))
  // then play (see https://jakearchibald.com/2016/sounds-fun/)
          </code></pre>
          <aside class="notes">
            <p>Once you have that, you need some sounds.</p>
            <p>Let's start with loading sounds - on a website this is important.</p>
            <p>There are three main ways of loading sounds into this context.</p>
            <p>buffers are containers data - samples. sample rate. create your own. Files are compressed, mp3, m4a, FLAC.</p>
            <p>With the top two we by pass the buffer stuff, but there's no preload - when we fetch the file in the last method we load it into memory and get retreive it at any time. As a rule top one for not many and long tracks. Middle for streams, last for lots of short sounds.</p>
          </aside>
        </section>

        <section data-background-color="#463c34">
        <h1>Play Sounds</h1>
        <pre><code data-trim class="js">// connect to output
source.connect(context.destination);

// start our sound!
source.start();
          </code></pre>
          <aside class="notes">
            <p>Once you've got your sound we need to play it. This means connect it to the speakers and set it to play.</p>
            <p>There's a couple more destinations, speakers are default. There's stream destination using MediaStream API, so you can broadcast to peers with Web RTC, or save to file, or you can collect the data in a buffer.</p>
          </aside>
        </section>

        <section data-background-color="#acc486" data-state="play-arps">
        <h1>Play Sounds</h1>
        <button data-sound="play-arps">Arps</button>
          <aside class="notes">
            <p>[q] Now using the code that we have just seen, I've done this. I've got a sound, I've loaded it into a buffer, attached it to an event listener so I can set it to play when the button is pressed.</p>
            <p>Great</p>
          </aside>
        </section>

        <section data-background-color="#acc486" data-background-image="media/aGraph1.png" data-state="stop-arps">
        <h1>Audio Graph & Nodes</h1>
        <!-- picture of graph here -->
          <aside class="notes">
            <p>So this is where I can start to talk about nodes.</p>
            <p>So this is a representation of what we have just created. This is what we call an audio graph. So far a source and destination. These boxes you can see joined together we call nodes and as we add more effects we will add more nodes to this graph.</p>
            <p>Let's say we want to add mute functionality - we can do that with a gain node.</p>
          </aside>
        </section>

        <section data-background-color="#463c34">
        <h1>Mute: Gain Node</h1>
        <pre><code data-trim class="js">// create gain node
const gainNode = context.createGain();

// set value
gainNode.gain.value = 0;

// connect our nodes together
source.connect(gainNode).connect(context.destination);

source.start();
          </code></pre>
          <aside class="notes">
            <p>Create another node.</p>
            <p>This controls volume. 0 value is nothing, 1 value is normal. 0.5 half. By setting it to 0 it will mute our audio. We can set this value to anything.</p>
            <p>Need to connect it.</p>
          </aside>
        </section>

        <section data-background-color="#acc486" data-state="mute-arps">
        <h1>Mute Sounds</h1>
        <button data-sound="arps" data-mute="undef">Arps</button>
          <aside class="notes">
            <p>[w] Now using the code that we have just seen, I've done this. I've got a sound, I've loaded it into a buffer, attached it to an event listener so I can set it to play when the button is pressed.</p>
            <p>Great</p>
          </aside>
        </section>

        <section data-background-color="#acc486" data-background-image="media/aGraph2.png">
        <h1>Our Audio Graph</h1>
        <!-- picture of graph here -->
          <aside class="notes">
            <p>Going back to our audio graph - this is what it looks like now. See it has our effect node in the middle, our gain node.</p>
          </aside>
        </section>

        <section data-background-color="#acc486">
          <h1>Lesson 1</h1>
          <p>Play & Mute Sounds</p>
          <aside class="notes">
            <p>OK so let's do lesson one - play and mute sounds</p>
          </aside>
        </section>

        <section data-background-color="#463c34">
          <h1>Alter sounds</h1>
          <pre><code data-trim class="js">// even out velocity
var compressor = context.createDynamicsCompressor();
// set values threshold, knee, ratio, reduction, attack, release

// delay sound
const delay = context.createDelay(5.0);
          </code></pre>
          <aside class="notes">
            <p>Here are some other simple nodes we can use to modify sounds instead of gain.</p>
            <p>Ear is a clever thing, it can here very quiet sound & very loud sounds. It evens them out for you. It's a very good dynamic compressor.</p>
            <p>Panner takes into account distance, orientation adn 3D space. There's a whole bunch of params to set for this one - I strongly suggest looking at the docs.</p>
          </aside>
        </section>

        <section data-background-color="#acc486">
          <h1>Digital Audio</h1>
          <p>A little lesson</p>
          <aside class="notes">
            <p>I'm sure everyone here is aware sound travels through meaterial as waves.</p>
          </aside>
        </section>

        <section data-background-color="#acc486" data-state="play-sin">
          <h1>Digital Audio</h1>
          <svg id="wave-graph"></svg>
          <aside class="notes">
            <p>[d] You've probably seen a dipiction of a sound wave that looks a little something like this - this is what we call a sine wave, it's a nice pure wave, a nice pure sound. like 'd'</p>
            <p>On the x axis is time and the y axis is amplitude, or volume.</p>
            <p>In reality, sounds aren't likely to be this pure - as I'm talking to you - the sound my voice is more distorted - more jaggy wave.</p>
            <p>Now what we do when we record this digitally, is we take the amplitude value at a given time, we record that and that's what we're interpreting when we're playing it back.</p>
            <p>Common rate is 44.1 khz - means taking 44,100 samples per second. Just numbers.</p>
            <p>Let's begin - super code heavy</p>
          </aside>
        </section>

        <section data-background-color="#463c34">
        <h1>Loading Sounds</h1>
        <pre><code data-trim class="js">// DOM (audio, video element)
const mediaSource = context.createMediaElementSource(element);

// Streams (data, camera, mic)
const streamSource = context.createMediaStreamSource(stream);

// Buffer (file, data)
fetch('soundFile.mp4')
  // read into memory as array buffer
  .then(response => response.arrayBuffer())
  // turn into raw audio data
  .then(arrayBuffer => context.decodeAudioData(arrayBuffer))
  // then play (see https://jakearchibald.com/2016/sounds-fun/)
          </code></pre>
          <aside class="notes">
            <p>So let's go back to loading sounds a minute and look as buffers</p>
            <p>What we're doing here is decoding those numbers that have different compressions into the api</p>
            <p>You saw before we kinda had this weird thing with the element where we had the audio object *and* the audio api together - confusing?</p>
            <p>Well let's load the sound directly into the api</p>
          </aside>
        </section>

        <section data-background-color="#463c34">
          <h1>Timing</h1>
          <pre><code class="js">const now = context.currentTime</code></pre>
          <aside class="notes">
            <p>Also going to talk about timing here.</p>
            <p>Timing is super important in audio. Whether you're just loading in and playing sounds, or you do want to take it further.</p>
            <p>In web audio we have this currentTime property on the context itself. It accesses the audio subsystems hardware clock.</p>
            <p>The web audio Api has a currentTime property. This starts when you instigate the api right at the start, but it uses system hardware for the clock and can be used as a benchmark all the way through. So let's say we load in a hi hat sound. We can simple create a loop and using currentTime, we can play the hi hat four times equally ina loop.</p>
            <p>Music works like this, it has beats and these are mad eup into bars. Sometimes you have 4 beats in a bar, sometimes 3, sometimes two, sometimes 8 half beats. It's all just maths.</p>
            <p>Long story short - we don't have to use javascript timing functions - which are dodgy.</p>
            <p>Gives u benchmark throughout</p>
          </aside>
        </section>

        <section data-background-color="#acc486" data-state="hi-hat">
        <h1>Hi Hat</h1>
        <button data-sound="hh">Hi Hat</button>
          <aside class="notes">
            <p>[i] Then if we do what we did before and add a little gain drop odd - boom, we got a snare!</p>
          </aside>
        </section>

        <section data-background-color="#acc486">
          <h1>Lesson 2</h1>
          <p>Load & Play Timed Sounds</p>
          <aside class="notes">
            <p>OK so let's do lesson one - play and mute sounds</p>
          </aside>
        </section>

        <!-- But what if you do want to create your own sounds, or make your own sound machine - 4th way -->
        <section data-background-color="#463c34" data-state="osc">
        <h1>Make Sounds</h1>
        <pre><code data-trim class="js">// waveform
const oscillator = context.createOscillator();
oscillator.type = 'triangle';
oscillator.frequency = 440;

// custom waveform
var wave = context.createPeriodicWave(real, imag, constraints);
oscillator.setPeriodicWave(wave);
          </code></pre>
          <aside class="notes">
            <p>[e] Instead of loading sounds, like we saw before, we can create them. There's an osciallator node. The sin wave you saw ealier, this can create one of those.</p>
            <p>It can also create a number of default waves (specifically ones that are easy to generate) - square, triangle and sawtooth.</p>
            <p>You can even make your own wave form to be generated. The PeriodicWave interface defines a periodic waveform that can be used to shape the output of an OscillatorNode.</p>
            <p>This sounds a bit like this 'e'</p>
          </aside>
        </section>

        <section data-background-color="#463c34">
        <h1>Built in stuff</h1>
        <pre><code data-trim class="js">// jump frequency down
oscillator.frequency.exponentialRampToValueAtTime(10,
  context.currentTime+1);

// jump volume down too!
gainNode.gain.exponentialRampToValueAtTime(0.001,
  context.currentTime+0.9);
          </code></pre>
          <aside class="notes">
            <p>The audio api comes with some nice methods use on parameters - here's a good one - I use it commonly, so I wanted to share it.</p>
            <p>exponential ramp to value at time</p>
            <p>changes the value of the node at a set time - use it on frequency of osc AND if we create a gain node before, change volume</p>
            <p>also linear value at time method. Exponential ramp is curve & nicer to hear.</p>
          </aside>
        </section>

        <section data-background-color="#acc486" data-state="laser">
        <h1>Laser</h1>
        <button data-sound="laser">Laser</button>
          <aside class="notes">
            <p>[t] So by simply adding a bit of built in functionality - boom we have a laser. With an oscillator.</p>
          </aside>
        </section>

        <section data-background-color="#acc486">
          <h1>Lesson 3</h1>
          <p>Let's make a 🙊'ing Laser!</p>
          <aside class="notes">
            <p>Lesson 3!!</p>
          </aside>
        </section>

        <section data-background-color="#463c34" data-state="white">
        <h1>Buffers</h1>
        <pre><code data-trim class="js">// make your own!
const node = context.createBufferSource(),
  buffer = context.createBuffer(channels, frameCount, sampleRate),
  data = buffer.getChannelData(0);

for (var i = 0; i < 4096; i++) {
 data[i] = Math.random();
}

node.buffer = buffer;

// thanks http://www.justgoscha.com/programming/2014/04/08/creating-dynamic-audiobuffers-with-webaudio.html
          </code></pre>
          <aside class="notes">
            <!-- play noise here? -->
            <p>[g] That audio buffer we passed the file data into earlier, to load the file. We don't have to load a file into a buffer, we can create that data ourselves. We know now it's just numbers.</p>
            <p>The loop you see in the code here creates numbers that when passed into the buffer and played play white noise.</p>
            <p>Are you ready it doesn't sound great. </p>
            <p>Pink noise is better than white noise, it's softer, it reduces the harsher tones, we can use a function for that, or we can use another of the built in methods the api gives us.</p>
            <p>And this is where we can really start to have some fun with the other filter nodes the api gives us.</p>
          </aside>
        </section>


        <section data-background-color="#463c34" data-state="pink">
          <h1>Alter sounds</h1>
          <pre><code data-trim class="js">// filter/accentuate frequencies
const biquadFilter = context.audioCtx.createBiquadFilter();
biquadFilter.type = "lowpass";
biquadFilter.frequency.value = 500;

// manipulate waveform
const shaper = context.createWaveShaper();
shaper.curve = someCraMathsFunction();

// repeat buffer data
const reverb = context.createConvolver();
// fetch file to use as buffer or make here ...
reverb.buffer = bufferedFile;
          </code></pre>
          <aside class="notes">
            <p>[h] Here are some ways to alter sounds - remember these can be used on any nodes.</p>
            <p>Biquad filter - algorithms on data - to enhance frequencies or filter them out. There's lots of types. High pass, low pass, high shelf, low sheif, peaking</p>
            <p>Defines an array of numbers to multiply to the sample</p>
            <p>often generated by recording a percussive noise or frequency sweep in a space. Does this all sound convoluted? Well, technically, it is!</p>
            <p>If we put a bandpass type biquad filter on the white noise it now sounds like this:</p>
          </aside>
        </section>

        <section data-background-color="#acc486" data-state="snare">
        <h1>Snare</h1>
        <button data-sound="snare">Snare</button>
          <aside class="notes">
            <p>[y] Then if we do what we did before and add a little gain drop odd - boom, we got a snare!</p>
          </aside>
        </section>

        <section data-background-color="#acc486">
          <h1>Lesson 4</h1>
          <p>Yeh we can make drums too...</p>
          <aside class="notes">
            <p>Lesson 4</p>
          </aside>
        </section>

        <section data-background-color="#acc486">
          <h1>Useful?</h1>
          <aside class="notes">
            <p>You may not think these useful, but what about all the interface sounds - that's basically what these are</p>
            <p>Also </p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/gamesvr.jpg">
        <h1>HTML Games & VR</h1>
        <!-- picture of graph here -->
          <aside class="notes">
            <p>It's pretty popular when making games, which big use case the web audio api along with VR</p>
            <p>One thing the audio API gives us that is useful in this area of dev is...</p>
          </aside>
        </section>

        <!-- panning, spatialisation, sound spriting -->
        <section data-background-color="#463c34">
          <h1>Spatialisation</h1>
          <pre><code data-trim class="js">// create panner node
const listener = context.listener;
const soundSource = context.createPanner();

// set positions
listener.setPosition(0, 0, 0);
soundSource.setPosition(0, 0, 0);

// also set orientation, velocity, cones of panner
          </code></pre>
          <aside class="notes">
            <p>Spatialisation, I'm making sound, person listing, I move, sound moves. This emulates it.</p>
            <p>This is the aptly named panner node.</p>
            <p>3D sound scape to work with.</p>
            <p>Create sound source - where sound is coming from and a listener, where it is picked up from.</p>
            <p>We can make sounds appear as if they are infront or you, above you, to the left to the right.</p>
            <p>Cones are like lights - ambient and spotlight.</p>
            <p>PROPERTIES! on SOURCE</p>
          </aside>
        </section>
        <!-- VR example? or phone -->
        <section data-background-color="#acc486" data-state="space">
          <h1>Demo</h1>
          <div id="space">
            <span data-object="source"></span>
            <span data-object="listener"></span>
          </div>
          <aside class="notes">
            <p>A frame?</p>
          </aside>
        </section>

        <section data-background-color="#acc486">
          <h1>Lesson 5</h1>
          <p>Let's see how that works</p>
          <aside class="notes">
            <p>Lesson 5</p>
          </aside>
        </section>

        <section data-background-color="#463c34">
          <h1>Stereo Panner</h1>
          <pre><code data-trim class="js">
// simple stereo panning
const simplePanner = context.createStereoPanner();
          </code></pre>
          <aside class="notes">
            <p>Here are some other simple nodes we can use to modify sounds.</p>
            <p>Ear is a clever thing, it can here very quiet sound & very loud sounds. It evens them out for you. It's a very good dynamic compressor.</p>
            <p>Panner takes into account distance, orientation adn 3D space. There's a whole bunch of params to set for this one - I strongly suggest looking at the docs.</p>
          </aside>
        </section>

        <section data-background-color="#acc486">
          <h1>Libraries</h1>
          <p>We don't have to write so much code!</p>
          <aside class="notes">
            <p>Lesson 5</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/howler.png" data-transition="none">
          <h1>howler.js</h1>
          <aside class="notes">
            <p>Want to mention a library at this point - howler</p>
            <p>Good all rounder & cross platform support as well. It has all the functionality of the api, but abstracts away the code writing.</p>
            <p>Supports codecs, sound sprites etc...</p>
            <p>Also supports sound spriting, this is a technique used on the web, like image spriting to download one file of lots of small sounds. Used heavily in game dev.</p>
          </aside>
        </section>
        
        <section data-background-color="#eee5c4" data-background-image="media/tone.png" data-transition="none">
          <h1>tone.js</h1>
          <aside class="notes">
            <p>Tone js my favourite. Really complete, nice to use - loads of effects, timing functionality, instrumentation.</p>
            
          </aside>
        </section>
        
        <!-- phaser -->
        <section data-background-color="#eee5c4" data-background-image="media/threea.jpg">
          <h1>three.js & A-Frame</h1>
          <aside class="notes">
            <p>Both three.js and a-frame include this panner functionality. So you can position audio within your 3d space when using those libraries.</p>
          </aside>
        </section>
        <!-- phaser -->
        <section data-background-color="#eee5c4" data-background-image="media/phaser.png">
          <h1>Phaser</h1>
          <aside class="notes">
            <p>And a shout to phaser for html5 games.</p>
            <p>It's pretty good, as far as I can tell. Has spacialisation, loading, sound spriting.</p>
          </aside>
        </section>

        
        <section data-background-color="#eee5c4" data-background-image="media/fistBump.gif">
          <aside class="notes">
            <p>Well done everyone - fist bump!</p>
            <p>Cos we haven't seen enough code right!</p>
            <p>So wait - I think we might have just created a sound, a laser, and a drum kit... it's almost like we've created a mini synth, in 35 minutes. Now I have 10 to control it!</p>
          </aside>
        </section>

        <!-- controlling -> hardware -->
        <!-- MIDI subject unto itself -->
        <!-- 10 min version... MIDI came about -->
        <!-- have it on the web -->
        <!-- press button demo -->
        <!-- demo with synth -->
        <section data-background-color="#ea8d88">
          <h1>MIDI</h1>
          <aside class="notes">
            <p>The web midi api is a different api altogether and I will explain why...</p>
            <p>This is literally my favourite subject</p>
            <p>This is not MIDI...</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-video="media/cameronsworld.mp4">
          <h1>This is not MIDI</h1>
          <aside class="notes">
            <p>Those bleepy noises, that is audio - that is what we just spent the talk doing, MIDI is simple data, a protocol built around musical instruments. We use it to control sounds.</p>
          </aside>
        </section>

        <section data-background-color="#ea8d88">
          <h1>MIDI</h1>
          <h2>Musical Instrument</h2>
          <h2 class="fragment fade-in">Digital Interface</h2>
          <aside class="notes">
            <p>MIDI came around in the early 80's. It was born from rise of papularity of electronic instruments in the 70's</p>
            <p>A group of industry experts and musical instrument manufacturers got together and thought wouldn't it be nice if we had a spec where instruments could all talk to each other.</p>
            <p>So it's basically a data prototcol</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/techSpec.jpg">
          <h1>MIDI</h1>
          <h2>Data</h2>
          <aside class="notes">
            <p>Data protocal and a pretty basic one at that.</p>
            <p>The spec has moved on - 1->2. There have been other specs. DMX controls lighting heavily based on MIDI. Pyrotechnics use something similar too. There's a BLE spec, a polyphonic spec, visual spec.</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/midiToday.png">
          <aside class="notes">
            <p>BLE, polyphony - go and see</p>
            <p>Today there's more - I’m not going to go into every single spec, we simply don’t have enough time and also there’s parts that are more relevant to us as developers which you will see. If you want to find out more all the spec docs are on www.midi.org.</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/keyboard.jpg" data-transition="none">
          <aside class="notes">
            <p>These are MIDI instruments. They have onboard audio. There's classic ones, synths, drum machines</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/launchpad.jpg" data-transition="none">
          <aside class="notes">
            <p>This is a launchpad - probably one of the most popular MIDI controllers for developers - you might have seen one - it's an array of buttons - it sends similar data to what we werre seeing before</p>
          </aside>
        </section>

        <section data-background-color="#eee5c4" data-background-image="media/controllers.jpg" data-transition="none">
          <aside class="notes">
            <p>These are MIDI controllers. They're basically just hardware. No onboard audio.</p>
            <p>Back to the data (show you?)</p>
          </aside>
        </section>

        <!-- <section>
          <h2>Let me show you</h2>
          <p><a href="https://goo.gl/Hhv8up">https://goo.gl/Hhv8up</a></p>
          <p>Top</p>
          <aside class="notes">
            <p>The easiest way for me to explain this to you is for me to illustrate this to you. Let’s take probably one of the most common MIDI enabled instruments - a keyboard.</p>
          </aside>
        </section> -->

        <section data-background-color="#463c34">
          <h1>Web MIDI API</h1>
          <h2>[144, 60, 100]</h2>
          <pre><code data-trim>// call requestMIDIAccess
navigator.requestMIDIAccess({ sysex: false }).then(onMIDISuccess, onMIDIFailure);

// on success of MIDI device recognised
function onMIDISuccess(midiControl) {
  var MIDI = midiControl;

  // log each input data
  MIDI.inputs.forEach(function (input) {
    console.log(input.onmidimessage.data)
  }
}
          </code></pre>
          <aside class="notes">
            <p>You make sure it’s avail, listen for attached device, when plugged in you can receive these afore mentioned messages. All I’m doing here is logging those messages - you can do whatever you want with them. Notice the sysex false - this is related to system messages and I will get back to that in a moment.</p>
            <p>Now there’s a window of opportunity - there’s plenty of stuff we can start coding with that!</p>
            <p>But what are these values?</p>
            <p>the first byte 144 is the message type and channel, 144 is 90 in hex and the 9 says it's a 'Note on' message and the 0 is the channel number. A 'Note on' message has two data bytes, the first is the 'key number' which I'm guessing is the note number, so 60 would be C the second is 'note on velocity' and this has a value of 100, - 0-127 (I'm guessing this means the rate at which the note is turned on)</p>
          </aside>
        </section>

        <section data-background-color="#ea8d88">
          <h1>Demo</h1>
          <p data-height="697" data-theme-id="1345" data-slug-hash="NxdbzL" data-default-tab="result" data-user="Rumyra" data-embed-version="2" class="codepen">See the Pen <a href="http://codepen.io/Rumyra/pen/NxdbzL/">Web MIDI API Example</a> by Rumyra (<a href="http://codepen.io/Rumyra">@Rumyra</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>
          <aside class="notes">
            <p>So if I plug in a MIDI instrument or controller and instigate the web MIDI api in my brwoser - this is the data you'll get</p>
            <p>You should all see a keyboard - one of the most common MIDI enabled instruments. Now this is the data that the web MIDI api passes back to us when a MIDI device is plugged in. So let's take a look at the code.</p>
            <p>SHUT THESE NOTES DOWN!</p>
          </aside>
        </section>

        <section data-background-color="#463c34" data-state="midi">
        <div id="synth">
          <button data-sound="m-arps">Arps</button>
          <button data-sound="m-laser">Laser</button>
          <button data-sound="m-kick">Kick</button>
          <button data-sound="m-snare">Snare</button>
          <button data-sound="m-hh">Hi Hat</button>
        </div>
          <aside class="notes">
            <p></p>
          </aside>
        </section>

        <section data-background-color="#acc486">
          <h1>Lesson 6</h1>
          <p>MIDI Controllers to the ready!</p>
          <aside class="notes">
            <p>Lesson 6</p>
          </aside>
        </section>

        <section data-background-color="#8c4c6f" class="lists">
          <div class="list-right">
            <h1>Quick Review</h1>
            <ul>
              <li><p>Loading sounds (Buffers)</p></li>
              <li class="fragment fade-in"><p>Audio Graph & Nodes</p></li>
              <li class="fragment fade-in"><p>Creating & Modified Sound</p></li>
              <li class="fragment fade-in"><p>Timing is important</p></li>
              <li class="fragment fade-in"><p>MIDI!</p></li>
            </ul>
          </div>
          <aside class="notes">
            <p>Just a quick recap - loading sounds - don't forget streams, or simply pulling it from the DOM, these are more simple, so I didn't cover them in detail</p>
            <p>Buffers and it's really all about data</p>
            <p></p>
          </aside>
        </section>

        <section data-background-color="#8c4c6f">
          <h1>Audio Design</h1>
          <p>in</p>
          <h1 style="border-top:2px solid #efefef;border-bottom:none;">Web Design</h1>
          <aside class="notes">
            <p>I know that the demos here aren't really what you'd put on a site. Although pls someone build a site with a laser button. But I do hope the techniques demonstrated are ones to use and really get you started with the api and help you understnad what's possible and why.</p>
            <p>Think about sound - think about it as part of design, it can be something simple (forms), animation is always enhanced - it's 2017, we don't need horrible load blaring music when we land on a page, we have all this power at our fingertips to make it really mature</p>
            <p>We're so quick to pick up grid systems, animation apis, 3d, games, vr on the web, all great things. (why we have it) But we have it now! We have all this power. W hen it comes to something as simple as ear magic we're reluctant and dismissive. Please think twice, I think we can be thoughtful - start a new wave of sound in our code.</p>
          </aside>
        </section>

        <section data-background-color="#8c4c6f" data-state="no-visuals">
          <h1>Go Forth&nbsp;&nbsp;|&nbsp;&nbsp;Make Noise</h1>
          <h1>Ruth John</h1>
          <h1>@Rumyra</h1>
          <p>Thank You Very Much</p>
          <aside class="notes">
            <p>Thank you very much, I'm Ruth John</p>
            <p>All these examples you've seen are on codepen as part of codevember</p>
            <p>Go have a relax and I hope you had a lovely conference!</p>
          </aside>
        </section>
        <!-- conslusion -->
        <!--  -->
        <!-- support for music file types -->

        




        <!-- <section data-background-color="#463c34">
          <h1>Analyse sounds</h1>
          <pre><code data-trim class="js">// frequency & time
const analyserNode = context.createAnalyser();

// larger for more resolution
analyser.fftSize = 1024;

var dataArray = new Uint8Array(2048);
// pass values into dataArray
analyser.getByteFrequencyData(dataArray);
          </code></pre>
          <aside class="notes">
            <p>This is my all time favourite feature. No doubt!</p>
            <p>We can anlayse frequency and time.</p>
          </aside>
        </section> -->

        
        <!-- <section data-background-color="#ea8d88" data-background-image="media/library.jpg">
          <h1>Audio Libraries</h1>
          <aside class="notes">
            <p>You're probably not gonna see much MIDI but audio is big in HTML games.</p>
            <p>This was actually quite tricky for me. I don't play games and if you google there's loads of Audio games - but they're not necessarily web.</p>
            <p>So I asked my friend.</p>
          </aside>
        </section> -->
        
        <section data-background-color="#8c4c6f" class="lists">
          <div class="list-right">
            <h1>Resources</h1>
            <ul>
              <li><h2><a href="https://www.html5rocks.com/en/tutorials/audio/scheduling/">Chris Wilson: A Tale of Two Clocks</a></h2></li>
              <li class="fragment fade-in"><h2><a href="https://www.html5rocks.com/en/tutorials/webaudio/intro/">Boris Smus: Getting Started with Web Audio API</a></h2></li>
              <li class="fragment fade-in"><h2><a href="https://dev.opera.com/articles/drum-sounds-webaudio/">Chris Lowis: Sythesising Drum Sounds</a></h2></li>
              <li class="fragment fade-in"><h2><a href="https://jakearchibald.com/2016/sounds-fun/">Jake Archibald: Sounds Fun</a></h2></li>
            </ul>
          </div>
          <aside class="notes">
            <p>As well as the libraries I mentioned earlier there's a few articles worth noting</p>
            <p>Chris Wilson explains time really well</p>
            <p>A couple of articles on using the api for game dev - boris smus on html5 rocks and one on MDN</p>
          </aside>
        </section>

        

        <section data-background-color="#8c4c6f" data-state="no-visuals">
          <h1>Credits</h1>
          <h3>@jsoxford hack photo: @spikeheap</h3>
          <h3>Apeggiator: https://codepen.io/jakealbaugh/pen/qNrZyw</h3>
          <h3>Blokdust: https://blokdust.com/</h3>
          <h3>Piano: https://www.patrik-huebner.com/portfolio-item/piano-3d-audio-reactive-typography/</h3>
          <aside class="notes">
            
          </aside>
        </section>

<!-- THIS IS IMPORTANT "0x" + x.toString(16); -->
      </section>
    </div></div>

    <div id="screen"></div>

<script src="reveal/plugin/notes/notes.js"></script>
<script src="reveal/plugin/highlight/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="scripts/talkEvents.js"></script>

<script type="text/javascript">
// Reveal~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


</script>


</body>
</html>